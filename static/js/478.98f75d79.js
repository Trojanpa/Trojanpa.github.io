"use strict";(self["webpackChunkthree_demo2"]=self["webpackChunkthree_demo2"]||[]).push([[478],{1478:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo20"},[n("div",{attrs:{id:"demo20Id"}}),n("div",{attrs:{id:"stats20Id"}})])}],a=n(9365),r=n(9477),d=n(3466),o=n.n(d),c=n(4376);let h;var l={name:"Demo20",data(){return{scene:null,camera:null,renderer:null,axes:null,stats:null,controls:null,ctrlObj:{visible:!0,transparent:!1,opacity:1,side:"FrontSide",depthTest:!0,depthWrite:!0,alphaTest:1,color:7829503,wireframe:!1,map:!0,reflectivity:1,refractionRatio:.98,combine:"MultiplyOperation",alphaMap:!0},ctrl:null}},mounted(){h=this,this.init(),window.addEventListener("resize",this.onWindowResize.bind(this))},methods:{init(){this.scene=new r.xsS,this.scene.background=new r.Ilk(3355443),this.camera=new r.cPb(75,window.innerWidth/window.innerHeight/2,.1,1e3),this.renderer=new r.CP7,this.renderer.setClearColor(new r.Ilk(0)),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,document.getElementById("demo20Id").appendChild(this.renderer.domElement),this.axes=new r.y8_(50),this.scene.add(this.axes);const e=new r.Ox3(16777215,1.25);e.position.set(0,100,-90),this.scene.add(e);const t=new r.Ox3(16777215,1.5);t.position.set(0,100,90),this.scene.add(t),this.camera.position.x=30,this.camera.position.y=30,this.camera.position.z=100,this.camera.lookAt(this.scene.position),this.scene.add(this.camera),this.addStats(),this.createControls();const n=new r._12(200,200,4,4),s=new r.vBJ({color:7829367}),i=new r.Kj0(n,s);i.rotation.x=-Math.PI/2,this.scene.add(i);const a=new r.DvJ(25,25,25);let d=new r.vBJ({color:7829503});const o=new r.Kj0(a,d);this.scene.add(o),this.ctrl=new c.ZP.GUI;const h=this.ctrl.addFolder("基础属性");h.add(this.ctrlObj,"visible").onChange((e=>{d.visible=e})),h.add(this.ctrlObj,"transparent").onChange((e=>{d.transparent=e})),h.add(this.ctrlObj,"opacity",0,1).onChange((e=>{d.opacity=e,d.needsUpdate=!0})),h.add(this.ctrlObj,"side",["FrontSide","BackSide","DoubleSide"]).onChange((e=>{switch(e){case"FrontSide":d.side=r.Wl3;break;case"BackSide":d.side=r._Li;break;case"DoubleSide":d.side=r.ehD;break;default:break}d.needsUpdate=!0})),h.add(this.ctrlObj,"depthTest").onChange((e=>{d.depthTest=e})),h.add(this.ctrlObj,"depthWrite").onChange((e=>{d.depthWrite=e})),h.add(this.ctrlObj,"alphaTest",0,1).onChange((e=>{d.alphaTest=e}));const l=new r.dpR,p=l.load("static/textures/灰色外墙砖.jpg");d.map=p;const m=this.createEnv();d.envMap=m;const u=this.ctrl.addFolder("MeshBasicMaterial");u.addColor(this.ctrlObj,"color").onChange((e=>{d.color=new r.Ilk(e)})),u.add(this.ctrlObj,"wireframe").onChange((e=>{d.wireframe=e})),u.add(this.ctrlObj,"map").onChange((e=>{d.map=e?p:null,d.needsUpdate=!0})),u.add(this.ctrlObj,"reflectivity",0,1).onChange((e=>{d.reflectivity=e})),u.add(this.ctrlObj,"refractionRatio",0,1).onChange((e=>{d.refractionRatio=e})),u.add(this.ctrlObj,"combine",["MultiplyOperation","MixOperation","AddOperation"]).onChange((e=>{switch(e){case"MultiplyOperation":d.combine=r.Ns1;break;case"MixOperation":d.combine=r.qhX;break;case"AddOperation":d.combine=r.NDo;break;default:break}d.needsUpdate=!0}));const w=l.load("static/textures/alphaMap.jpg");d.alphaMap=w,u.add(this.ctrlObj,"alphaMap").onChange((e=>{d.alphaMap=e?w:null,d.needsUpdate=!0})),this.renderScene()},createEnv(){const e=["static/textures/posx.jpg","static/textures/negx.jpg","static/textures/posy.jpg","static/textures/negy.jpg","static/textures/posz.jpg","static/textures/negz.jpg"],t=new r.cBK,n=t.load(e);return n.mapping=r.vxC,n.format=r.wk1,n},renderScene(){this.stats.update(),this.controls.update(),requestAnimationFrame(this.renderScene),this.renderer.render(this.scene,this.camera)},addStats(){this.stats=new(o()),this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="0px",this.stats.domElement.style.top="0px",this.stats.setMode(0),document.getElementById("stats20Id").appendChild(this.stats.domElement)},onWindowResize(e){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},createControls(){this.controls=new a.z(this.camera,this.renderer.domElement),this.controls.update()}}},p=l,m=n(1001),u=(0,m.Z)(p,s,i,!1,null,"1b05d954",null),w=u.exports}}]);